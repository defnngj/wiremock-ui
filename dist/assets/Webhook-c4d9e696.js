import{d as A,s as U,u as B,r as p,o as y,c as h,b as a,w as e,F as c,f as C,e as s,g as f,v as N,y as n,j as x,h as b}from"./index-0e386377.js";import{$ as H,_ as O,c as L}from"./Stubs-8a58ee40.js";import"./style-ee1d3e95.js";const R=b("span",{style:{"padding-right":"5px"}},"中值",-1),j=b("span",{style:{"padding-right":"5px"}},"标准差",-1),q=b("span",{style:{"padding-right":"5px"}},"最小值",-1),E=b("span",{style:{"padding-right":"5px"}},"最大值",-1),F=A({__name:"Webhook",props:{webhook:{type:Object,required:!0},index:{type:Number,required:!0}},setup(o){const r=o,{selectedItem:d}=U(B()),g=()=>{d&&d.value&&d.value.postServeActions&&(d.value.postServeActions.splice(r.index,1),d.value.metadata.render.postServeActions.splice(r.index,1))},v=V=>{L(d.value.metadata.render.postServeActions[r.index].parameters.headers,V)};return(V,l)=>{const _=p("el-option"),S=p("el-select"),u=p("el-form-item"),i=p("el-input"),w=p("el-col"),T=p("el-button"),m=p("el-radio"),k=p("el-radio-group");return y(),h(c,null,[a(u,{label:"URL",prop:"url"},{default:e(()=>[a(w,{span:22},{default:e(()=>[a(i,{modelValue:o.webhook.parameters.url,"onUpdate:modelValue":l[1]||(l[1]=t=>o.webhook.parameters.url=t)},{prepend:e(()=>[a(u,{prop:"request.method",style:{width:"70px"}},{default:e(()=>[a(S,{modelValue:o.webhook.parameters.method,"onUpdate:modelValue":l[0]||(l[0]=t=>o.webhook.parameters.method=t)},{default:e(()=>[(y(!0),h(c,null,C(s(H).WEBHOOK_METHOD,t=>(y(),f(_,{value:t,key:t},null,8,["value"]))),128))]),_:1},8,["modelValue"])]),_:1})]),_:1},8,["modelValue"])]),_:1}),a(w,{span:2,style:{"padding-left":"10px"}},{default:e(()=>[a(T,{icon:s(N),type:"danger",onClick:g},null,8,["icon"])]),_:1})]),_:1}),a(O,{modelValue:s(d).metadata.render.postServeActions[r.index].parameters.headers,"onUpdate:modelValue":l[2]||(l[2]=t=>s(d).metadata.render.postServeActions[r.index].parameters.headers=t),tips:"（不支持多值 Header）"},null,8,["modelValue"]),a(u,{label:"Body"},{default:e(()=>[a(k,{modelValue:s(d).metadata.render.postServeActions[r.index].parameters.bodyType,"onUpdate:modelValue":l[3]||(l[3]=t=>s(d).metadata.render.postServeActions[r.index].parameters.bodyType=t),onChange:v},{default:e(()=>[a(m,{label:"none"},{default:e(()=>[n("无")]),_:1}),a(m,{label:"json"},{default:e(()=>[n("JSON")]),_:1}),a(m,{label:"xml"},{default:e(()=>[n("XML")]),_:1}),a(m,{label:"html"},{default:e(()=>[n("HTML")]),_:1}),a(m,{label:"text"},{default:e(()=>[n("Text")]),_:1})]),_:1},8,["modelValue"])]),_:1}),s(d).metadata.render.postServeActions[r.index].parameters.bodyType!=="none"?(y(),f(u,{key:0,label:""},{default:e(()=>[a(i,{type:"textarea",autosize:{minRows:8,maxRows:30},modelValue:o.webhook.parameters.body,"onUpdate:modelValue":l[4]||(l[4]=t=>o.webhook.parameters.body=t)},null,8,["modelValue"])]),_:1})):x("",!0),a(u,{label:"响应延时"},{default:e(()=>[a(k,{modelValue:s(d).metadata.render.postServeActions[r.index].parameters.delayType,"onUpdate:modelValue":l[5]||(l[5]=t=>s(d).metadata.render.postServeActions[r.index].parameters.delayType=t)},{default:e(()=>[a(m,{label:"none"},{default:e(()=>[n("无")]),_:1}),a(m,{label:"fixed"},{default:e(()=>[n("固定延时")]),_:1}),a(m,{label:"lognormal"},{default:e(()=>[n("随机延时（中值）")]),_:1}),a(m,{label:"uniform"},{default:e(()=>[n("随机延时（范围）")]),_:1})]),_:1},8,["modelValue"])]),_:1}),s(d).metadata.render.postServeActions[r.index].parameters.delayType==="fixed"?(y(),f(u,{key:1},{default:e(()=>[a(i,{modelValue:o.webhook.parameters.delay.milliseconds,"onUpdate:modelValue":l[6]||(l[6]=t=>o.webhook.parameters.delay.milliseconds=t),style:{width:"200px"}},{suffix:e(()=>[n("ms")]),_:1},8,["modelValue"])]),_:1})):x("",!0),s(d).metadata.render.postServeActions[r.index].parameters.delayType==="lognormal"?(y(),f(u,{key:2},{default:e(()=>[a(i,{modelValue:o.webhook.parameters.delay.median,"onUpdate:modelValue":l[7]||(l[7]=t=>o.webhook.parameters.delay.median=t),style:{width:"200px","padding-right":"10px"}},{prefix:e(()=>[R]),suffix:e(()=>[n("ms")]),_:1},8,["modelValue"]),a(i,{modelValue:o.webhook.parameters.delay.sigma,"onUpdate:modelValue":l[8]||(l[8]=t=>o.webhook.parameters.delay.sigma=t),style:{width:"200px"}},{prefix:e(()=>[j]),_:1},8,["modelValue"])]),_:1})):x("",!0),s(d).metadata.render.postServeActions[r.index].parameters.delayType==="uniform"?(y(),f(u,{key:3},{default:e(()=>[a(i,{modelValue:o.webhook.parameters.delay.lower,"onUpdate:modelValue":l[9]||(l[9]=t=>o.webhook.parameters.delay.lower=t),style:{width:"200px","padding-right":"10px"}},{prefix:e(()=>[q]),suffix:e(()=>[n("ms")]),_:1},8,["modelValue"]),a(i,{modelValue:o.webhook.parameters.delay.upper,"onUpdate:modelValue":l[10]||(l[10]=t=>o.webhook.parameters.delay.upper=t),style:{width:"200px"}},{prefix:e(()=>[E]),suffix:e(()=>[n("ms")]),_:1},8,["modelValue"])]),_:1})):x("",!0)],64)}}});export{F as default};
